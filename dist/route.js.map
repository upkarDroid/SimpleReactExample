{"version":3,"sources":["../server/route.js"],"names":["makeAPIQuery","paramsObj","additionalParams","hasOwnProperty","querystring","stringify","makeRequestPromise","url","headers","fetch","Headers","set","options","redirect","then","response","json","catch","console","log"],"mappings":"gYAAA,uC;AACA,0C;AACA;AACA;;AAEA,IAAMA,eAAe,SAAfA,YAAe,CAACC,SAAD,EAAYC,gBAAZ,EAAiC;AAClD,QAAG,CAACD,UAAUE,cAAV,CAAyB,MAAzB,CAAJ,EAAqC;AACjCF,kBAAU,MAAV,IAAkB,IAAlB;AACH;AACD,WAAOG,sBAAYC,SAAZ,cAA2BJ,SAA3B,EAAyCC,gBAAzC,EAAP;AACH,CALD;;AAOA,IAAMI,qBAAqB,SAArBA,kBAAqB,CAACC,GAAD,EAAS;AAChC,QAAMC,UAAU,IAAIC,oBAAMC,OAAV,EAAhB;;;AAGAF,YAAQG,GAAR,CAAY,YAAZ,EAA0B,sJAA1B;;AAEAH,YAAQG,GAAR,CAAY,QAAZ,EAAsB,kBAAtB;AACA,QAAMC,UAAU;AACZJ,wBADY;AAEZ;AACAK,kBAAU,QAHE,EAAhB;;;AAMA,WAAO,yBAAMN,GAAN,EAAWK,OAAX;AACFE,QADE,CACG,4BAAYC,SAASC,IAAT,EAAZ,EADH;AAEFC,SAFE,CAEIC,QAAQC,GAFZ,CAAP;AAGH,CAhBD,C;;;;;AAqBIb,kB,GAAAA,kB,SAAoBN,Y,GAAAA,Y","file":"route.js","sourcesContent":["import fetch from 'node-fetch';\nimport querystring from 'querystring';\n// import routeController from './routeController';\n// import { json } from 'body-parser';\n\nconst makeAPIQuery = (paramsObj, additionalParams) => {\n    if(!paramsObj.hasOwnProperty(\"zpwa\")){\n        paramsObj[\"zpwa\"]=true\n    }\n    return querystring.stringify({ ...paramsObj, ...additionalParams });\n};\n\nconst makeRequestPromise = (url) => {\n    const headers = new fetch.Headers();\n\n    \n    headers.set(\"User-Agent\", \"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.80 Mobile Safari/537.36\");\n\n    headers.set('Accept', 'application/json');\n    const options = {\n        headers,\n        // redirect: 'manual',\n        redirect: \"manual\"\n    };\n\n    return fetch(url, options)\n        .then(response => response.json())\n        .catch(console.log);\n};\n\n\n\nexport {\n    makeRequestPromise, makeAPIQuery\n}"]}